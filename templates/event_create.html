{% extends 'base.html' %}
{% load static %}

{% block content %}

<div class="container">
    <div class="mt-5 form-div mb-5">
        {% if valid %}
        <form method="POST" enctype='multipart/form-data'>
        {% csrf_token %}
        <div class="form-group">
            <label for="textArea" text-align : center><h3 text-align:center>Please the name of the event which is to be conducted:-</h3> </label>
            <input class="form-control form-control-lg" type="text" placeholder="Event Name" name='event_name'>
            <!-- <textarea class="form-control" name="comment" id="textArea" rows="3" style="margin-top: 2%;" placeholder="Description of your question if any"></textarea> -->
        </div>
        <div class="form-group">
            <label for="textArea" text-align : center><h3 text-align:center>Please the description of the event which is to be conducted:-</h3> </label>
            <input class="form-control form-control-lg" type="text" placeholder="Event Description" name='event_description'>
            <!-- <textarea class="form-control" name="comment" id="textArea" rows="3" style="margin-top: 2%;" placeholder="Description of your question if any"></textarea> -->
        </div>
        <div class="form-group" id="form" >
            <div class="form-group" id="form">
            <div id='image-form'>
            <label>Event Image</label>
            <br>
            <input type="file" name="event_image-1">
            <br>
            </div>
            </div>
            <br>
            <div class="form-group">
                <label for="textArea" text-align : center><h3 text-align:center>Please the link of the event which is to be conducted:-</h3> </label>
                <input class="form-control form-control-lg" type="text" placeholder="Event Link" name='event_link' required>
                <!-- <textarea class="form-control" name="comment" id="textArea" rows="3" style="margin-top: 2%;" placeholder="Description of your question if any"></textarea> -->
            </div>
            <label for="exampleFormControlSelect2">Select timming of the Event</label>
            <div style="display: inline">
                <input type="datetime-local" name = "event_start">
                <span> to </span>
                <input type="time" name="event_end">
            </div>
            <br>
            <button type="submit" class="btn btn-outline-success" style="margin-top: 2%;">Submit</button>
        </form>
        {% else %}
        <h3>You are not authorized to create events.</h3>
        {% endif %}
    </div>
    </div>
</div>
<script>

    let i = 1
    document.getElementById('add-image').addEventListener('click', (event) => {
        i += 1
        console.log(i);
        if (i < 6) {
            document.getElementById('image-form').innerHTML += ` 
                <br>
                <input type="file" name="image-${i}">
                <br>
            `
            event.preventDefault
        } else {
            document.getElementById('form').innerHTML = `
            <div class="alert alert-danger" role="alert">
                Image Limit Reached 
            </div> 
            `+document.getElementById('form').innerHTML
        }
    })

{% endblock %}